ray casting algorithm in C
